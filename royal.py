# royal.py
import random
from tinydb import TinyDB, Query

db = TinyDB('bank_data.json')
User = Query()

MSG_ROULETTE_START = "๐ฅ๐ฅ ูุง ุดุนุจ ููููุจููู ุงูุนุธูู ๐ฅ๐ฅ\n\n๐ ููุฏ ุจุฏุฃุช ูุนุจุฉ ุงูุฑูููุช ๐\n\n๐น๐น ููุชู ุชุณุฌูู ุงุดุชุฑุงูู ูู ุงูุฌููุฉ ุงูุชุจ ุงูุง ๐น๐น"
MSG_ROULETTE_JOIN = "๐ข๐ฅ๐น ููุฏ ุชู ุชุณุฌููู ูุง ุจุทู ๐น๐ฅ๐ข"
MSG_ROULETTE_WIN = "๐๐ ูุจุงุงุงุงุงุฑู ุนููู ุงูููุฒ ูุง ุงุณุทูุฑุฉ ๐๐\n\n          ๐ \" {name} \" ๐\n\n๐ ููุฒู ุฑูู: ( {wins} )\n\n๐๐ ุงุณุชูุฑ ูุนูุง ุจุงููุดุงุฑูุฉ ุญุชู ุชุฑุจุญ ุงูุฌุงุฆุฒุฉ ุงููุจุฑู ๐๐"
MSG_ROULETTE_KING = "๐๐๐ ููู ุงูุฑูููุช ๐๐๐\n\n             ๐ \" {name} \" ๐\n\n       ๐ฅ๐ฅ \"ูุงุฒ ุจู {wins} ุฌููุงุช ูุชุชุงููุฉ\"๐ฅ๐ฅ"

async def get_top_active():
    all_users = db.all()
    if not all_users: return "ูุง ููุฌุฏ ุจูุงูุงุช."
    top = max(all_users, key=lambda x: x.get('points', 0))
    return f"๐ฅ๐ฅ๐ฅ ููู ุงูุชูุงุนู ๐ฅ๐ฅ\n\nุงุณู ุงูููู : {top['name']}\n\nููุงุทู : {top['points']}\n\n๐ ูุจุงุงุฑู ูุง ุฃุณุทูุฑุฉ!"
